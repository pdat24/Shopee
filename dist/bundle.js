(()=>{"use strict";async function e(e){return(await fetch(e)).json()}function t({bw:e,fw:t},n,s){const a=document.getElementById(t),o=document.getElementById(e),r=document.getElementById(n),l=Number.parseFloat(r.style.width);function c(){0==Number.parseFloat(r.style.left)?setTimeout((()=>{o.style.display="none"}),400):o.style.display="block"}function i(){const e=Number.parseFloat(r.style.left);l==s+Math.abs(e)?setTimeout((()=>{a.style.display="none"}),400):a.style.display="block"}o.style.display="none",a.onclick=()=>{setTimeout((()=>{c(),i()}),100)},o.onclick=()=>{setTimeout((()=>{c(),i()}),100)}}function n(t,n,s,a){let o=0;!function(){const r=document.getElementById(n);e(`http://localhost:3000/${t}`).then((e=>{o=e.length;for(const t of e){const e=document.createElement("div");e.className="carousel-item h-100",e.innerHTML=`\n                        <a href="javascript:void(0)"\n                            ><img\n                                class="w-100"\n                                src="${t}"\n                                alt="photo"\n                        /></a>\n                    `,r.append(e)}!function(e){const t=document.getElementById(s);for(let n=1;n<=e;++n){const e=document.createElement("span");e.innerHTML=`\n                <button\n                    data-bs-target="#${a}"\n                    data-bs-toggle="carousel"\n                    class="rounded-circle"\n                    data-bs-slide-to="${n}"\n                ></button>\n            `,t.append(e)}}(o)}))}()}n("content__top-slides","slides","slide-navs","slider"),n("shopee-mall__slider-items","shopee-mall__slider-item","shopee-mall__slider-navs","shopee-mall__slider"),function(){const e=document.querySelectorAll(".carousel-nav");for(const t of e)t.closest(".carousel").addEventListener("mouseenter",(()=>{t.style.display="block"})),t.closest(".carousel").addEventListener("mouseleave",(()=>{t.style.display="none"}))}();class s{static wrapperLeft=0;constructor({p_btn:e,p_body:t,p_wrapper:n},[s,a,o]){this.btn=document.getElementById(e),this.body=document.getElementById(t),this.wrapper=document.getElementById(n),this.bodyWidth=s,this.wrapperWidth=a,this.maxForwardWidth=this.bodyWidth-s/o,this.getProperties=this.getProperties.bind(this),this.handleClick=this.handleClick.bind(this),this.forw=this.forw.bind(this),this.backw=this.backw.bind(this),this.catchEvent=this.catchEvent.bind(this),this.toggle=this.toggle.bind(this)}getProperties(){return{wrapperRestWidth:this.wrapperWidth-(Math.abs(s.wrapperLeft)+this.bodyWidth)}}toggle(){}forw(e){}backw(){}handleClick(){const e=this.getProperties();this.forw(e),this.backw(),this.wrapper.style.left=s.wrapperLeft+"px",this.btn.removeEventListener("click",this.handleClick),setTimeout((()=>this.btn.addEventListener("click",this.handleClick)),550)}catchEvent(){this.btn.addEventListener("click",this.handleClick)}}class a extends s{constructor({p_btn:e,p_body:t,p_wrapper:n},[s,a,o]){super({p_btn:e,p_body:t,p_wrapper:n},[s,a,o])}forw(e){e.wrapperRestWidth>=this.maxForwardWidth?s.wrapperLeft-=this.maxForwardWidth:s.wrapperLeft-=e.wrapperRestWidth}}class o extends s{constructor({p_btn:e,p_body:t,p_wrapper:n},[s,a,o]){super({p_btn:e,p_body:t,p_wrapper:n},[s,a,o])}backw(){Math.abs(s.wrapperLeft)>=this.maxForwardWidth?s.wrapperLeft+=this.maxForwardWidth:s.wrapperLeft+=Math.abs(s.wrapperLeft)}}class r extends s{static wrapperLeft=0;constructor({p_btn:e,p_body:t,p_wrapper:n},[s,a,o]){super({p_btn:e,p_body:t,p_wrapper:n},[s,a,o]),this.totalWidth=s,this.bodyWidth=a,this.maxForwardWidth=75}getProperties(){return{wrapperRestWidth:this.totalWidth-(this.bodyWidth+Math.abs(r.wrapperLeft))}}handleClick(){const e=this.getProperties();this.forw(e),this.backw(),this.wrapper.style.left=r.wrapperLeft+"%",this.btn.removeEventListener("click",this.handleClick),setTimeout((()=>this.btn.addEventListener("click",this.handleClick)),550)}}class l extends r{constructor({p_btn:e,p_body:t,p_wrapper:n},[s,a,o]){super({p_btn:e,p_body:t,p_wrapper:n},[s,a,o])}forw(e){e.wrapperRestWidth>=this.maxForwardWidth?r.wrapperLeft-=this.maxForwardWidth:r.wrapperLeft-=e.wrapperRestWidth}}class c extends r{constructor({p_btn:e,p_body:t,p_wrapper:n},[s,a,o]){super({p_btn:e,p_body:t,p_wrapper:n},[s,a,o])}backw(){Math.abs(r.wrapperLeft)>=this.maxForwardWidth?r.wrapperLeft+=this.maxForwardWidth:r.wrapperLeft+=Math.abs(r.wrapperLeft)}}function i(t,n){const s=document.getElementById(n);let a=1;e(t).then((e=>{const t=e.length;e.forEach((e=>{const n=document.createElement("span");n.innerHTML=`\n            <a \n                href="javascript:void(0)"\n                class="text-capitalize text-color"\n                >${e}\n            </a>`+(a!==t?"<span>&nbsp;</span>|<span>&nbsp;</span>":""),a++,s.append(n)}))}))}(async function(t,n){const s=document.getElementById("category__wrapper");let a=0;return await e("http://localhost:3000/category-items").then((e=>{a=120*e.length,s.style.width=a+"px";for(const t of e){const e=document.createElement("div");e.className="category__group";const n=document.createElement("a");if(n.className="category-body-item d-block",n.href="javascript:void(0)",n.innerHTML=`\n                <div class="mt-3">\n                    <img src="${t[0].src}" class="category-body-img" alt="photo">\n                </div>\n                <p class="category-body-text" >${t[0].text}</p>\n            `,e.append(n),t.length>1){const n=document.createElement("a");n.className="category-body-item d-block",n.href="javascript:void(0)",n.innerHTML=`\n                    <div class="mt-3">\n                        <img src="${t[1].src}" class="category-body-img" alt="photo">\n                    </div>\n                    <p class="category-body-text" >${t[1].text}</p>\n                `,e.append(n)}s.append(e)}})),a})().then((e=>{new a({p_btn:"category__forward",p_body:"category-body",p_wrapper:"category__wrapper"},[1200,e,10]).catchEvent(),new o({p_btn:"category__backward",p_body:"category-body",p_wrapper:"category__wrapper"},[1200,e,10]).catchEvent()})).then((()=>t({fw:"category__forward",bw:"category__backward"},"category__wrapper",1200))),async function(t,n){const s=document.getElementById("flash-sale__wrapper");let a=0;return await e("http://localhost:3000/flash-sale").then((e=>{a=200*e.length,s.style.width=a+"px";for(const t of e){const e=document.createElement("div"),n=document.createElement("a"),a=document.createElement("div"),o=document.createElement("div");e.className="flash-sale__body-item",n.className="flash-sale__body-item-main text-decoration-none",n.href="javascript:void(0)",a.className="flash-sale__item-body",o.className="flash-sale__item-footer",a.innerHTML=`\n                <div\n                    class="flash-sale__item-body-img"\n                    style="background-image: url(${t.img});"\n                ></div>\n                <div class="flash-sale__item-body-mall">\n                    <div\n                        class="flash-sale__item-body-mall-text"\n                    ></div>\n                </div>\n                <div class="discount">\n                    <span\n                        class="text-danger font-s13"\n                        style="line-height: 1.6rem"\n                        >${t.discount}</span\n                    >\n                    <span class="text-light font-s14"\n                        >Giảm</span\n                    >\n                </div>\n                <div class="flash-sale__item-body-bg"></div>\n            `,o.innerHTML=`\n                <div class="flash-sale__item-footer-cost">\n                    đ ${t.cost}\n                </div>\n                <div class="flash-sale__item-footer-bar">\n                    \n                    <div\n                        class="flash-sale__item-footer-img"\n                    >\n                        <div class="flash-sale__item-footer-fire"></div>\n                    </div>\n                    <div\n                        class="flash-sale__item-footer-layer"\n                    ></div>\n                    <div\n                        class="flash-sale__item-footer-text"\n                    >\n                        ĐANG BÁN CHẠY\n                    </div>\n                </div>\n            `,n.append(a),n.append(o),e.append(n),s.append(e)}})),a}().then((e=>{new a({p_btn:"flash-sale__forward",p_body:"flash-sale__body",p_wrapper:"flash-sale__wrapper"},[1200,e,6]).catchEvent(),new o({p_btn:"flash-sale__backward",p_body:"flash-sale__body",p_wrapper:"flash-sale__wrapper"},[1200,e,6]).catchEvent()})).then((()=>t({fw:"flash-sale__forward",bw:"flash-sale__backward"},"flash-sale__wrapper",1200))),async function(){const t=document.getElementById("shopee-mall__wrapper");let n=0;return await e("http://localhost:3000/shopee-mall__product-items").then((e=>{n=25*e.length,t.style.width=n+"%";for(const n of e){const e=document.createElement("div");e.className="shopee-mall__group";const s=document.createElement("a");if(s.href="javascript:void(0)",s.className="shopee-mall__product",s.innerHTML=`\n                    <div class="shopee-mall__product-img w-100" style="background-image: url('${n[0].src}')"></div>\n                    <p class="shopee-mall__product-desc">${n[0].text.length<=24?n[0].text:n[0].text.slice(0,15)+"..."}</p>\n                `,e.append(s),n.length>1){const t=document.createElement("a");t.href="javascript:void(0)",t.className="shopee-mall__product",t.innerHTML=`\n                        <div class="shopee-mall__product-img w-100" style="background-image: url('${n[1].src}')"></div>\n                        <p class="shopee-mall__product-desc">${n[1].text.length<=24?n[1].text:n[1].text.slice(0,15)+"..."}</p>\n                    `,e.append(t)}t.append(e)}})),n}().then((e=>{new l({p_btn:"shopee-mall__forward",p_body:"shopee-mall__products",p_wrapper:"shopee-mall__wrapper"},[e,100,4]).catchEvent(),new c({p_btn:"shopee-mall__backward",p_body:"shopee-mall__products",p_wrapper:"shopee-mall__wrapper"},[e,100,4]).catchEvent()})).then((()=>t({fw:"shopee-mall__forward",bw:"shopee-mall__backward"},"shopee-mall__wrapper",100))),async function(t,n){const s=document.getElementById("trending__wrapper");let a=0;return await e("http://localhost:3000/trending-items").then((e=>{a=200*e.length,s.style.width=a+"px";for(const t of e){const e=document.createElement("a");e.className="trending__item text-decoration-none",e.href="javascript:void(0)",e.innerHTML=`  \n            <div class="trending__item__top">\n                <img\n                    class="trending__item-img"\n                    src="${t.img}"\n                    alt="photo"\n                />\n                <div class="trending__item__top-icon"></div>\n                <div class="trending__item__top-cost">\n                    Bán ${t.cost}k+ / tháng\n                </div>\n            </div>\n            <div class="trending__item__bottom">\n                <p class="text-center">${t.text.length<25?t.text:t.text.slice(0,22)+"..."}</p>\n            </div>\n            `,s.prepend(e)}})),a}().then((e=>{new a({p_btn:"trending__forward",p_body:"trending__body",p_wrapper:"trending__wrapper"},[1200,e,6]).catchEvent(),new o({p_btn:"trending__backward",p_body:"trending__body",p_wrapper:"trending__wrapper"},[1200,e,6]).catchEvent()})).then((()=>t({fw:"trending__forward",bw:"trending__backward"},"trending__wrapper",1200))),async function(t){const n=document.getElementById("suggest__body");let s=document.createElement("div");s.className="suggest__body-group";let a=0;await e("http://localhost:3000/suggest-items").then((e=>{for(const t of e){const o=document.createElement("div");o.className="suggest__item shadow-sm";const r=document.createElement("a");r.className="suggest__item-container",r.href="#suggest__header";const l=document.createElement("div");l.className="suggest__item-body";const c=document.createElement("div");c.className="suggest__item-footer";const i=document.createElement("div");i.className="suggest__item-float",l.innerHTML=`\n            <div class="suggest__item-body-img" style="background-image: url(${t.img})"></div>\n                <div class="suggest__item-body-mall">\n                    <div class="suggest__item-body-text">\n                        Yêu thích\n                    </div>\n                </div>\n                <div class="discount">\n                    <span class="text-danger font-s13">12%</span>\n                    <span class="text-light font-s14">Giảm</span>\n                </div>\n            <div class="suggest__item-body-bg"></div>\n            `,c.innerHTML=`\n            <p class="suggest__item-footer-text text-capitalize">\n                ${t.desc.length<=50?t.desc:t.desc.slice(0,47)+"..."}\n            </p>\n            <div class="suggest__item-sale">Giảm đ30k</div>\n            <div class="suggest__item-footer-bot">\n                <span class="suggest__item-cost"\n                    ><span class="font-s13">đ</span>899.000</span\n                >\n                <span\n                    class="suggest__item-sell text-capitalize text-muted"\n                    >đã bán 2.5k</span\n                >\n            </div>\n            `,i.innerHTML='\n            <p class="suggest__item-float-bot">Tìm sản phẩm tương tự</p>\n            ',r.append(l,c),o.append(r,i),s.append(o),a++,(0!=a&&a%6==0||a>=e.length)&&(n.append(s),s=document.createElement("div"),s.className="suggest__body-group")}}))}().then((()=>{!function(){const e=document.querySelectorAll(".suggest__item");for(const t of e)t.onmouseenter=e=>{e.target.style.top="-2px",e.target.children[1].style.display="block"},t.onmouseleave=e=>{e.target.style.top=null,e.target.children[1].style.display=null}}(),function(){const e=document.getElementById("suggest"),t=document.getElementById("suggest__seemore"),n=document.getElementById("header"),s=document.getElementById("suggest__header"),a=s.cloneNode(!0),o=Number.parseFloat(window.getComputedStyle(t).height),r=Number.parseFloat(window.getComputedStyle(s).height);e.append(a),window.onscroll=()=>{const e=Number.parseFloat(t.getBoundingClientRect().y),l=Number.parseFloat(s.getBoundingClientRect().y),c=Number.parseFloat(a.getBoundingClientRect().y),i=Number.parseFloat(window.getComputedStyle(n).height);l-i<=0&&e>=i+(r-o)?(a.style.display="flex",a.style.position="fixed",a.style.top=i+"px",a.style.width="120rem",a.style.zIndex=100):!(e+o<=r+c)&&e>=i+(r-o)&&(a.style.display="none",a.style.position=null),(e+o<=r+c||e+o<=i+r&&e+o>=i)&&(a.style.position="fixed",a.style.display="flex",e+o<=i+r&&e+o>=i&&(a.style.top=e+(r-o)+"px"),a.style.top=-(r-e)+o+"px")}}()})),i("http://localhost:3000/footerTopTrending","footer__body-topKeyword"),i("http://localhost:3000/footerTopBrandName","footer__body-topBrandName"),class{static renderFooterList(e,t){const n=document.getElementById(t);e.forEach((e=>{const t=document.createElement("li");t.className="my-3 opacity-75",t.innerHTML=`\n            <a\n                class="text-decoration-none text-capitalize text-color"\n                href="javascript:void(0)"\n                >${e}\n            </a>\n            `,n.append(t)}))}static renderFooterImg(e,t){const n=document.getElementById(t);e.forEach((e=>{const t=document.createElement("li");t.className="footer__support-img",t.innerHTML=`\n            <img\n                src="${e}"\n                alt="photo"\n            />\n            `,n.append(t)}))}static async run(){await e("http://localhost:3000/footerSupport").then((e=>{this.renderFooterList(e.supportClient,"footer__support-client"),this.renderFooterList(e.aboutShopee,"footer__support-about"),this.renderFooterImg(e.paymentImg,"footer__support-payment"),this.renderFooterImg(e.shipping,"footer__support-shipping")}))}}.run(),async function(){const t=document.querySelectorAll(".footer__category-row"),n=t.length,s=await e("http://localhost:3000/footerCategory");for(let e=0;e<n;++e)s[`col${e+1}`].forEach((n=>{let s=1;const a=document.createElement("div");a.className="my-4";const o=document.createElement("h5"),r=document.createElement("div");r.className="flex-wrap d-flex",o.innerText=n.title,o.className="fw-bold",n.list.forEach((e=>{const t=document.createElement("a");t.href="javascript:void(0)",t.className="text-color text-decoration-none",t.innerText=e;const a=document.createElement("span");a.innerHTML="&nbsp;|&nbsp;",s!==n.list.length?r.append(t,a):r.append(t),s++})),a.append(o,r),t[[e]].append(a)}))}(),async function(){const t=document.getElementById("search-bar");let n=await e("http://localhost:3000/header-propose");const s=document.getElementById("header__bottom-propose-wrapper"),a=document.createElement("ul");a.id="proposes",t.oninput=e=>{const t=[];for(const s of n)if(s.startsWith(e.target.value.toLowerCase())&&(t.push(`<li class="propose">${s}</li>`),t.length>=5))break;t.length>0?(a.innerHTML=t.join(""),function(){const e=document.getElementById("search-bar"),t=document.querySelectorAll(".propose");for(const n of t)n.addEventListener("click",(()=>{e.value=n.innerText}))}()):a.innerHTML="<li class='propose'>không tìm thấy sản phẩm</li>",s.append(a)},t.onblur=()=>{setTimeout((()=>s.removeChild(a)),200)}}(),function(){const t=document.getElementById("header__bottom-search-list");e("http://localhost:3000/header__bottom-proposes").then((e=>{for(const n of e){const e=document.createElement("li");e.className="header__bottom-search-link",e.innerHTML=`\n                    <a href="javascript:void(0)">${n}</a>\n                `,t.append(e)}}))}(),function(){const t=document.getElementById("content__top-sale");e("http://localhost:3000/sale-items").then((e=>{for(const n of e){const e=document.createElement("a");e.className="content__top-items",e.href="javascript:void(0)",e.innerHTML=`\n                    <img src="${n.src}" alt="sale-items">\n                    <p>${n.text}</p>\n            `,t.append(e)}}))}(),function(){const e=document.getElementById("cover-layer__close"),t=document.getElementById("cover-layer"),n=document.getElementById("cover-layer__img");document.body.style.overflowY="hidden",e.onclick=()=>{t.hidden=!0,document.body.style.overflowY=null},t.onclick=e=>{e.defaultPrevented||(t.hidden=!0,document.body.style.overflowY=null)},n.onclick=e=>{e.preventDefault()}}(),function({id_h:e,id_m:t,id_s:n},{s_h:s,s_m:a,s_s:o}){const r=document.getElementById(e),l=document.getElementById(t),c=document.getElementById(n),i=setInterval((()=>{o>0?o--:(o=59,--a<0&&(s--,a=59)),c.textContent=o>=10?o:"0"+o,l.textContent=a>=10?a:"0"+a,r.textContent=s>=10?s:"0"+s,o<=0&&s<=0&&a<=0&&clearInterval(i)}),1e3)}({id_h:"flash-sale__time-h",id_m:"flash-sale__time-m",id_s:"flash-sale__time-s"},{s_h:8,s_m:10,s_s:25})})();